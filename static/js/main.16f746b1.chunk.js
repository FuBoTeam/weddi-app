(this["webpackJsonpweddi-app"]=this["webpackJsonpweddi-app"]||[]).push([[0],{40:function(e,t,n){},47:function(e,t,n){},52:function(e,t,n){e.exports=n.p+"static/media/uploadLoading.a33612b2.svg"},54:function(e,t,n){e.exports=n.p+"static/media/loading.822699a4.gif"},59:function(e,t,n){e.exports=n(81)},64:function(e,t,n){},73:function(e,t,n){},76:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(49),i=n.n(r),o=n(35),s=n(12),u=(n(64),n(4)),l=n.n(u),m=n(6),f=n(7),d=n(23),p=(n(40),Object(a.createContext)({})),b=n(17),g=n(36),h=n(21),v=n(15),j=function(e){var t=e.firebaseConfig,n=e.appName,r=Object(a.useMemo)((function(){if(!t)throw new Error("No config provided");var e,a,c=Object(g.a)().find((function(e){return e.name===(n||"[DEFAULT]")}));if(c&&((e=c.options)===(a=t)||[].concat(Object(b.a)(Object.keys(e)),Object(b.a)(Object.keys(a))).every((function(t){return e[t]===a[t]}))))return{app:c,storage:Object(h.b)(c),database:Object(v.b)(c),analytics:Object(d.a)(c)};var r=Object(g.b)(t,n);return{app:r,storage:Object(h.b)(r),database:Object(v.b)(r),analytics:Object(d.a)(r)}}),[t,n]);return c.a.createElement(p.Provider,Object.assign({value:r},e))},O=function(){return Object(a.useContext)(p).database},E=function(){return Object(a.useContext)(p).storage},w=function(){return Object(a.useContext)(p).analytics},k=n(5),y=n(25),S=n(51),I=n.n(S),N=n(52),_=n.n(N),x=n(2),B=n(3),D={doc:{title:"<3 YaYun & ChinHui <3"},firebase:{apiKey:"AIzaSyD_1irJWOgT9x5fvmbXJm0fRRRZ8DNUfpU",authDomain:"weddi-app.firebaseapp.com",databaseURL:"https://weddi-app.firebaseio.com/",projectId:"weddi-app",storageBucket:"image.weddi.app",messagingSenderId:"324415165027",appId:"1:324415165027:web:76b8291835ef32c5c75e56",measurementId:"G-SD1QTLYR15"},post:{namespace:"chyy"},img:{namespace:"chyy",bgImgsShouldBePicked:40,fmImgsShouldBePicked:5}},C={doc:{title:"<3 Tony & Claire <3"},firebase:{apiKey:"AIzaSyD_1irJWOgT9x5fvmbXJm0fRRRZ8DNUfpU",authDomain:"weddi-app.firebaseapp.com",databaseURL:"https://weddi-app.firebaseio.com/",projectId:"weddi-app",storageBucket:"image.weddi.app",messagingSenderId:"324415165027",appId:"1:324415165027:web:76b8291835ef32c5c75e56",measurementId:"G-SD1QTLYR15"},post:{namespace:"tlty"},img:{namespace:"tlty",bgImgsShouldBePicked:30,fmImgsShouldBePicked:5}},G={doc:{title:"<3 \u5471\u5471 & \u4ee5\u7df4 <3"},firebase:{apiKey:"AIzaSyD_1irJWOgT9x5fvmbXJm0fRRRZ8DNUfpU",authDomain:"weddi-app.firebaseapp.com",databaseURL:"https://weddi-app.firebaseio.com/",projectId:"weddi-app",storageBucket:"image.weddi.app",messagingSenderId:"324415165027",appId:"1:324415165027:web:76b8291835ef32c5c75e56",measurementId:"G-SD1QTLYR15"},post:{namespace:"ykyl"},img:{namespace:"ykyl",bgImgsShouldBePicked:28,fmImgsShouldBePicked:5}},U={doc:{title:"<3 Groom & Bride <3"},firebase:{apiKey:"AIzaSyD_1irJWOgT9x5fvmbXJm0fRRRZ8DNUfpU",authDomain:"weddi-app.firebaseapp.com",databaseURL:"https://weddi-app.firebaseio.com/",projectId:"weddi-app",storageBucket:"image.weddi.app",messagingSenderId:"324415165027",appId:"1:324415165027:web:76b8291835ef32c5c75e56",measurementId:"G-SD1QTLYR15"},post:{namespace:"test"},img:{namespace:"chyy",bgImgsShouldBePicked:40,fmImgsShouldBePicked:5}},R=new(function(){function e(){Object(x.a)(this,e),this._config=null}return Object(B.a)(e,[{key:"init",value:function(e){null===this._config&&(this._config=function(e){switch(e){case"chyy":return D;case"tlty":return C;case"ykyl":return G;default:return U}}(e))}},{key:"config",get:function(){if(null===this._config)throw Error("config is not set yet");return this._config}}]),e}()),L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Math.ceil(Math.min(e,t)),a=Math.floor(Math.max(e,t));return Math.floor(n+Math.random()*(a-n+1))},F=function(e,t){for(var n=[],a=e.length-t;a<e.length;a++){var c=L(a);n.includes(e[c])?n.push(e[a]):n.push(e[c])}return n},A=function(e){for(var t=0;t<=e.length-2;t++){var n=L(t,e.length-1),a=[e[n],e[t]];e[t]=a[0],e[n]=a[1]}return e},T=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{joinedGame:!1},a=Object(v.h)(e,"".concat(R.config.post.namespace,"/posts")),c=null!==(t=n.joinedGame)&&void 0!==t&&t;return c&&(a=Object(v.g)(a,Object(v.e)("joinedGame"),Object(v.a)(!0))),new Promise((function(e){return Object(v.d)(a,(function(t){e(t.val())}),{onlyOnce:!0})}))},P=function(e,t){var n=Object(v.f)(Object(v.h)(e,"".concat(R.config.post.namespace,"/posts"))).key;if(!n)throw new Error("post id is empty");var a=Object(y.a)(Object(y.a)({},t),{},{modifiedTime:(new Date).toISOString(),userAgent:navigator.userAgent,id:n});return Object(v.i)(Object(v.h)(e,"".concat(R.config.post.namespace,"/posts/").concat(n)),a)},M=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{size:"small"},a=null!==(t=n.size)&&void 0!==t?t:"small";return Object(h.c)(Object(h.d)(e,"".concat(R.config.img.namespace,"/").concat(a))).then((function(e){return e.items}))},W=function(){var e=Object(m.a)(l.a.mark((function e(t,n,a){var c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(t,a);case 2:return c=e.sent,r=F(c,n),e.abrupt("return",Promise.all(r.map(h.a)));case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),J=function(e,t,n){return Object(h.e)(Object(h.d)(e,"".concat(R.config.img.namespace,"/public_upload/").concat(t)),n).then((function(e){return Object(h.a)(e.ref)}))},H=function(e){var t=e.imgUrls,n=e.onChange,r=e.disabled,i=t.length,o=Object(a.useState)(0),s=Object(f.a)(o,2),u=s[0],l=s[1],m=function(e){var a=(u+e+i)%i;l(a),n&&n(t[a])};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"img-window"},c.a.createElement("div",{className:"numbertext"},u+1," / ",i),t.map((function(e,t){var n=u===t;return c.a.createElement(c.a.Fragment,{key:e},c.a.createElement("input",{hidden:!0,type:"radio",name:"imgUrl",value:e,checked:n,readOnly:!0}),c.a.createElement("div",{className:"layer ".concat(n?"":" hidden"),style:{backgroundImage:"url(".concat(e,")")}}),c.a.createElement("img",{className:"fade ".concat(n?"":" hidden"),src:e,alt:e}))}))),c.a.createElement("span",{className:"prev",onClick:function(){return!r&&m(-1)}},"\u276e"),c.a.createElement("span",{className:"next",onClick:function(){return!r&&m(1)}},"\u276f"))},z=n(53),Y=n.n(z),Q=function(e){var t=e.disabled,n=e.onChange,r=Object(a.useState)(null),i=Object(f.a)(r,2),o=i[0],s=i[1];return c.a.createElement("label",{className:"img-window upload"},c.a.createElement("input",{hidden:!0,type:"file",name:"upload",placeholder:"\u4e0a\u50b3\u7167\u7247",accept:"image/*",onChange:function(e){var t=e.target,a=e.target.name,c=t.files&&t.files[0];a&&c&&c.type.startsWith("image/")&&Y()(c,(function(e){return e.toBlob((function(e){s(e),n&&n(e)}),"image/jpeg",.75)}),{maxWidth:2048,maxHeight:2048,orientation:!0,canvas:!0,noRevoke:!0})},disabled:t}),o&&c.a.createElement("img",{src:URL.createObjectURL(o),alt:"upload preview"}),!o&&c.a.createElement("span",{className:"upload-field"},"\u8acb\u4e0a\u50b3\u5716\u7247"))},V=function(e){var t=e.onSubmit,n=Object(a.useState)(!1),r=Object(f.a)(n,2),i=r[0],o=r[1],s=Object(a.useState)({name:"",greetings:""}),u=Object(f.a)(s,2),d=u[0],p=u[1],b=Object(a.useState)(!1),g=Object(f.a)(b,2),h=g[0],v=g[1],j=Object(a.useState)([]),w=Object(f.a)(j,2),S=w[0],N=w[1],x=Object(a.useState)(""),B=Object(f.a)(x,2),D=B[0],C=B[1],G=Object(a.useState)(null),U=Object(f.a)(G,2),L=U[0],F=U[1],A=O(),T=E();Object(a.useEffect)((function(){W(T,R.config.img.fmImgsShouldBePicked).then((function(e){N(e),C(e[0])}))}),[T]);var M=function(e){var t=e.target.name,n=e.target.value.trim();p((function(e){return Object(y.a)(Object(y.a)({},e),{},Object(k.a)({},t,n))}))};return c.a.createElement("form",{className:"greeting-form",onSubmit:function(e){e.preventDefault();if(function(){var e=d.name,t=d.greetings;return""!==e.trim()&&""!==t.trim()&&(D||L)}())return function(){var e=Object(m.a)(l.a.mark((function e(){var n,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o(!0),n=D,!h||!L){e.next=7;break}return a=I.a.v4(),e.next=6,J(T,a,L);case 6:n=e.sent;case 7:return c={name:d.name,greetings:d.greetings,joinedGame:!0,imgUrl:n},e.next=10,P(A,c);case 10:C(n),o(!1),t&&t(c);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}},c.a.createElement("ul",{className:"tabs-view"},c.a.createElement("li",{className:"pick ".concat(h?"":"active"),onClick:function(){i||v(!1)}},"\u6311\u4e00\u5f35\u7167\u7247"),c.a.createElement("li",{className:"pick ".concat(h?"active":""),onClick:function(){i||v(!0)}},"\u4e0a\u50b3\u4e00\u5f35\u7167\u7247")),c.a.createElement("div",{className:"slideshow-container"},c.a.createElement("div",{hidden:!h},c.a.createElement(Q,{disabled:i,onChange:function(e){F(e)}})),c.a.createElement("div",{hidden:h},c.a.createElement(H,{disabled:i,imgUrls:S,onChange:function(e){C(e)}}))),c.a.createElement("div",{className:"greeting-message-block"},c.a.createElement("label",{className:"input"},c.a.createElement("h2",null,"From"),c.a.createElement("input",{type:"text",name:"name",placeholder:"\u4f60\u7684\u59d3\u540d/\u7dbd\u865f",onChange:M,required:!0,disabled:i})),c.a.createElement("label",{className:"input"},c.a.createElement("textarea",{name:"greetings",placeholder:"\u795d\u8cc0\u8a5e",onChange:M,required:!0,disabled:i}))),c.a.createElement("button",{className:"btn",type:"submit",disabled:i},i&&c.a.createElement("img",{className:"loading-img",src:_.a,alt:""}),"\u7559\u8a00"))},q=function(e){return new Promise((function(t){!function(e,t){var n=new Image;n.src=e,n.onload=function(){return t(n)}}(e,t)}))},K=(n(73),function(e){var t=e.user,n=e.show,r=Object(a.useState)(!1),i=Object(f.a)(r,2),o=i[0],s=i[1],u=Object(a.useState)({width:0,height:0}),l=Object(f.a)(u,2),m=l[0],d=l[1];Object(a.useEffect)((function(){t.imgUrl&&q(t.imgUrl).then((function(e){s(!0),d({width:e.width,height:e.height})}))}),[t.imgUrl]);var p=o&&m.width<m.height;return console.log(m),c.a.createElement("div",{className:"dialog ".concat(n&&o?"show-dialog":"")},c.a.createElement("div",{className:"image-container ".concat(p?"portrait":"landscape")},c.a.createElement("img",{src:t.imgUrl,alt:"images"})),c.a.createElement("div",{className:"message"},c.a.createElement("h2",null,"From ",t.name,":"),c.a.createElement("p",null,t.greetings)))}),X=function(e){var t=e.split("/");return t.pop(),t.join("/")};function Z(e){return new Promise((function(t){return setTimeout(t,e)}))}var $,ee=function(e){var t=w();Object(a.useEffect)((function(){Object(d.b)(t,"greeting_page_landed")}),[t]);var n=Object(a.useState)(!1),r=Object(f.a)(n,2),i=r[0],o=r[1],s=Object(a.useState)({name:"",greetings:"",imgUrl:"",joinedGame:!1}),u=Object(f.a)(s,2),p=u[0],b=u[1],g=Object(a.useCallback)(function(){var t=Object(m.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return b(n),o(!0),t.next=4,Z(5e3);case 4:e.history.push(X(e.match.url));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[b,o,e.history,e.match.url]);return c.a.createElement("div",{className:"greeting"},c.a.createElement("header",{className:"greeting-header"},c.a.createElement("h1",{className:"greeting-title orange-font"},"\u795d\u798f\u7559\u8a00\u7248")),!i&&c.a.createElement(c.a.Fragment,null,c.a.createElement(V,{onSubmit:g}),c.a.createElement("a",{className:"link orange-font",href:X(e.match.url)},"\u53bb\u7167\u7247\u7246\u77a7\u77a7"),c.a.createElement("a",{className:"link gray-font",href:"mailto:contact@weddi.app"},"\u806f\u7d61\u6211\u5011 contact@weddi.app")),c.a.createElement(K,{user:p,show:i}))},te=(n(47),n(54)),ne=n.n(te);!function(e){e.BG_FADE_IN="BG_FADE_IN",e.BG_FADE_OUT="BG_FADE_OUT",e.BG_HIDDEN="BG_HIDDEN",e.BG_VISIBLE="BG_VISIBLE"}($||($={}));var ae=function(){var e=E(),t=Object(a.useState)(!0),n=Object(f.a)(t,2),r=n[0],i=n[1],o=Object(a.useState)($.BG_HIDDEN),s=Object(f.a)(o,2),u=s[0],l=s[1],m=Object(a.useState)([]),d=Object(f.a)(m,2),p=d[0],b=d[1];return Object(a.useEffect)((function(){r&&W(e,R.config.img.bgImgsShouldBePicked).then((function(e){Promise.all(e.map(q)).then((function(){return i(!1)})),b(A(e))}))}),[e,r]),Object(a.useEffect)((function(){switch(u){case $.BG_FADE_OUT:Z(1e3).then((function(){l($.BG_HIDDEN),b((function(e){return A(e)}))}));break;case $.BG_HIDDEN:Z(1500).then((function(){l($.BG_FADE_IN)}));break;case $.BG_FADE_IN:Z(1e3).then((function(){l($.BG_VISIBLE)}));break;case $.BG_VISIBLE:Z(18e5).then((function(){l($.BG_FADE_OUT)}))}}),[u]),c.a.createElement("div",{className:"container"},r&&c.a.createElement("div",{className:"loading"},c.a.createElement("img",{src:ne.a,alt:""}),c.a.createElement("span",null,"Loading...")),p.map((function(e){return c.a.createElement("img",{key:e,className:r||u===$.BG_HIDDEN?"hidden":u===$.BG_VISIBLE?"visible":u===$.BG_FADE_IN?"fade-in":u===$.BG_FADE_OUT?"fade-out":"",src:e,alt:""})})))},ce=function(e,t){return{priority:e,timestampId:t}},re=function(e){var t=function(e){return Math.floor(e/2)},n=function(t,n,a){return e(t[n],t[a])},a=function(e,t,n){var a=[e[n],e[t]];e[t]=a[0],e[n]=a[1]},c=function(e,c){for(var r,i=c;i<t(e.length);){var o=[2*(r=i)+1,2*r+2],s=Object(f.a)(o,2),u=s[0],l=s[1],m=u;if(l<e.length&&n(e,l,m)&&(m=l),n(e,i,m))break;a(e,i,m),i=m}};return{init:function(e){for(var n=t(e.length)-1;n>=0;n--)c(e,n)},push:function(e,t){e.push(t);for(var c,r=e.length-1;0!==r;){var i=(c=r,Math.floor((c-1)/2));if(n(e,i,r))break;a(e,i,r),r=i}},pop:function(e){if(0!==e.length){a(e,0,e.length-1);var t=e.pop();return c(e,0),t}}}}((function(e,t){return e.priority<t.priority||e.priority===t.priority&&e.timestampId<t.timestampId})),ie=function(e){var t={},n=[];T(e).then((function(e){null!==e&&Object.keys(e).forEach((function(n){t[n]=e[n]}))})).then((function(){!function(e,t){var n=Object(v.h)(e,"".concat(R.config.post.namespace,"/posts"));Object(v.c)(n,(function(e){t(e.val())}))}(e,(function(e){t[e.id]||(t[e.id]=e,re.push(n,ce(0,e.id)))}))}));return{unsubscribe:function(){},next:function(){0===n.length&&(n=Object.keys(t).map((function(e){return ce(1,e)})),re.init(n));var e=re.pop(n);if(e)return t[e.timestampId];throw new Error("queue is empty")}}},oe=n(55),se=n.n(oe),ue={default:987,Arabic:612,Chinese:255,Dutch:978,English:987,Finnish:1078,French:998,German:920,Hebrew:833,Italian:950,Japanese:357,Polish:916,Portuguese:913,Russian:986,Slovenian:885,Spanish:1025,Swedish:917,Turkish:1054},le=function(e){return new Promise((function(t){return se.a.guessLanguage.name(e,t)}))};function me(e){return fe.apply(this,arguments)}function fe(){return(fe=Object(m.a)(l.a.mark((function e(t){var n,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le(t);case 2:return n=e.sent,a=n in ue?ue[n]:ue.default,c=Math.floor(t.length/a*60),e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var de,pe=function(e){var t=w();Object(a.useEffect)((function(){Object(d.b)(t,"board_page_landed")}),[t]);var n=Object(a.useState)(!1),r=Object(f.a)(n,2),i=r[0],o=r[1],s=Object(a.useState)({name:"",greetings:"",imgUrl:"",joinedGame:!1}),u=Object(f.a)(s,2),p=u[0],b=u[1],g=O(),h=Object(a.useMemo)((function(){return ie(g)}),[g]),v=h.next,j=h.unsubscribe,E=Object(a.useCallback)(function(){var e=Object(m.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,Z(t);case 3:o(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),k=Object(a.useCallback)(Object(m.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=null;case 1:if(null!==t){e.next=12;break}e.prev=2,t=v(),e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(2),e.next=10,Z(1e3);case 10:e.next=1;break;case 12:return b(t),e.next=15,me(t.greetings);case 15:return n=e.sent,a=Math.max(1e3*n,5e3),e.next=19,E(a);case 19:return e.next=21,Z(3e3);case 21:k();case 22:case"end":return e.stop()}}),e,null,[[2,6]])}))),[v,E]);return Object(a.useEffect)((function(){return k(),function(){j()}}),[k,j]),c.a.createElement(c.a.Fragment,null,c.a.createElement(ae,null),c.a.createElement(K,{user:p,show:i}),c.a.createElement("a",{className:"message-link",href:"".concat(e.match.url,"/greetings")},"<< \u7559\u4e0b\u4f60\u7684\u795d\u798f"),c.a.createElement("a",{className:"game-link",href:"".concat(e.match.url,"/lottery")},"\u53bb\u904a\u6232\u9801"))};n(76);!function(e){e[e.Init=0]="Init",e[e.Loaded=1]="Loaded",e[e.Start=2]="Start",e[e.Flipped=3]="Flipped",e[e.Stacked=4]="Stacked",e[e.Shuffling=5]="Shuffling",e[e.Shuffled=6]="Shuffled",e[e.Ready=7]="Ready",e[e.Error=8]="Error"}(de||(de={}));var be=function(e){var t=w();Object(a.useEffect)((function(){Object(d.b)(t,"lottery_page_landed")}),[t]);var n=O(),r=Object(a.useState)([]),i=Object(f.a)(r,2),o=i[0],s=i[1],u=Object(a.useState)(de.Init),p=Object(f.a)(u,2),b=p[0],g=p[1];Object(a.useEffect)((function(){T(n,{joinedGame:!0}).then((function(e){if(null!==e){var t=Object.keys(e).map((function(t){return e[t]})),n=A(t);s(n),g(de.Loaded)}else g(de.Error)}))}),[n]);var h=Object(a.useState)(!0),v=Object(f.a)(h,2),j=v[0],E=v[1],S=Object(a.useState)(!1),I=Object(f.a)(S,2),N=I[0],_=I[1],x=Object(a.useState)({"*":!0}),B=Object(f.a)(x,2),D=B[0],C=B[1],G=Object(a.useCallback)((function(){C((function(e){return e["*"]?{"*":!1}:{"*":!0}}))}),[]),U=Object(a.useCallback)((function(e){C((function(t){return Object(y.a)(Object(y.a)({},t),{},Object(k.a)({},e,!0))}))}),[]),R=Object(a.useCallback)((function(){E((function(e){return!e}))}),[]),L=Object(a.useCallback)(Object(m.a)(l.a.mark((function e(){var t,n=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:null,_(!0),e.next=4,Z(3600);case 4:s((function(e){return A(e)})),_(!1),t&&t();case 7:case"end":return e.stop()}}),e)}))),[]);Object(a.useEffect)((function(){switch(b){case de.Start:return G(),void g(de.Flipped);case de.Flipped:return R(),void g(de.Stacked);case de.Stacked:return L((function(){return g(de.Shuffled)})),void g(de.Shuffling);case de.Shuffled:return R(),void g(de.Ready)}}),[b,G,R,L]);for(var F=Object(a.useCallback)((function(){b===de.Loaded&&g(de.Start)}),[b]),P=Object(a.useCallback)((function(){E(!0),_(!1),C({"*":!0}),g(de.Loaded)}),[E,_,C,g]),M=o.map((function(e,t){return c.a.createElement("li",{key:e.id,className:"card",onClick:function(){return U(t)}},c.a.createElement("div",{className:"inner ".concat(D["*"]||D[t]?"":"flip-transition")},c.a.createElement("div",{className:"front"},e.name),c.a.createElement("div",{className:"back"},j?t+1:"")))})),W=Math.min(10,Math.floor(Math.sqrt(M.length))),J=[];M.length>0;){var H=M.splice(0,W);J.push(c.a.createElement("li",{key:"stack-".concat(J.length),className:"stack"},c.a.createElement("ul",{className:"cards-down"},H)))}return c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"system-message"},b===de.Init?"Loading...":"",b===de.Error?"\u73fe\u5728\u9084\u6c92\u6709\u73a9\u5bb6\u5594\uff01":""),c.a.createElement("div",{className:"lottery-btns"},c.a.createElement("button",{className:b===de.Loaded?"show":"hide",onClick:F},"\u6d17\u724c"),c.a.createElement("button",{className:b===de.Ready?"show":"hide",onClick:P},"\u91cd\u7f6e")),c.a.createElement("ul",{className:"card-stacks ".concat(j?"expand-transition":""," ").concat(N?"shuffle-transition":"")},J),c.a.createElement("a",{className:"home-link",href:X(e.match.url)},"\u56de\u9996\u9801"))},ge=function(e){var t,n=e.match;R.init(n.params.gnbId),t=R.config.doc.title,document.title=t;var a=n.url;return c.a.createElement(j,{firebaseConfig:R.config.firebase},c.a.createElement(s.c,null,c.a.createElement(s.a,{path:"".concat(a,"/lottery"),component:be}),c.a.createElement(s.a,{path:"".concat(a,"/greetings"),component:ee}),c.a.createElement(s.a,{path:a,component:pe})))},he=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ve(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var je=function(){return c.a.createElement("div",null,"Weddi App ",c.a.createElement("a",{href:"mailto:contact@weddi.app"},"\u806f\u7d61\u6211\u5011 contact@weddi.app"))},Oe=function(){return c.a.createElement(o.a,{basename:"",forceRefresh:!0},c.a.createElement(s.c,null,c.a.createElement(s.a,{path:"/:gnbId/",component:ge}),c.a.createElement(s.a,{path:"/",component:je})))};i.a.render(c.a.createElement(Oe,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");he?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ve(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):ve(e)}))}}()}},[[59,1,2]]]);
//# sourceMappingURL=main.16f746b1.chunk.js.map